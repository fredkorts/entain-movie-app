/* =============================================================================
   CastSection Component Styles - Refactored with Mixins
   ============================================================================= */

@use "../../../../styles/mixins" as m;

.section {
  @include m.section-layout;
}

.title {
  @include m.section-title;
}

.castCol {
  display: flex;
  flex-direction: column;
}

.grid {
  @include m.flex-grid(var(--spacing-md));
}

.castCard {
  height: 100%; // Ensure card takes full height of its container
  display: flex;
  flex-direction: column;
  background-color: var(--cast-card-bg) !important;
  border-color: var(--color-border-secondary) !important;

  // Ensure all cards have consistent minimum height
  min-height: 280px;

  @include m.mobile-only {
    min-height: 260px;
  }

  @include m.tablet-only {
    min-height: 270px;
  }

  // Ensure the card body grows to fill available space
  :global(.ant-card-body) {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    background-color: transparent !important;
  }
}

.imageContainer {
  height: var(--cast-card-height);
  overflow: hidden;
  background-color: var(--cast-fallback-bg);
  border-radius: var(--radius-md) var(--radius-md) 0 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.castImage {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  @include m.hover-zoom-image(1.05);
}

.fallbackContainer {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  width: 100%;
  background-color: var(--cast-fallback-bg);
}

.fallbackAvatar {
  background-color: var(--cast-avatar-bg) !important;
}

.cardMeta {
  padding: var(--spacing-sm);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.memberName {
  @include m.member-name;
  // Limit to 2 lines to maintain consistent height
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.3;
  max-height: 2.6em; // 2 lines * 1.3 line-height
}

.memberRole {
  @include m.member-role;
  // Allow text to wrap naturally, no clipping
  line-height: 1.4;
  margin-top: 0;
  word-break: break-word;
}